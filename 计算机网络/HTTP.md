# HTTP

无连接（一旦返回请求，tcp连接就关闭了）、无状态、简单快捷方便

## Cookie和Session

复杂数据首选Session，Cookie只能存ascii码。隐私数据存在cookie中可以先加密，再通过服务器解密。不应该将用户所有信息存在Session中，开销大

## get和post

1. GET请求一般用于去请求获取数据，POST一般作为发送数据到后台时使用

2. GET请求也可传参到后台，但是其参数在浏览器的地址栏的url中可见，所以隐私性安全性较差，且参数长度也是有限制的。POST请求传递参数放在Request body中，不会在url中显示，比GET要安全，且参数长度无限制

3. GET请求刷新浏览器或回退时没有影响，POST回退时会重新提交数据请求

4. GET 请求可被**缓存**，POST 请求不会被缓存

5. GET 请求保留在浏览器**历史记录**中，POST 请求不会保留在浏览器历史记录中

6. GET 请求可被收藏为**书签**，POST 不能被收藏为书签

7. GET请求只能进行url编码（application/x-www-form-urlencoded），POST支持多种编码方式（application/x-www-form-urlencoded 或 multipart/form-data。为二进制数据使用多重编码。）

8. GET请求比较常见的方式是通过url地址栏请求，POST最常见是通过form表单发送数据请求

## 和HTTPS的区别

HTTPS是一种通过计算机网络进行安全通信的传输协议，经由HTTP进行通信，利用SSL/TLS建立全信道，加密数据包。HTTPS使用的主要目的是提供对网站服务器的身份认证，同时保护交换数据的隐私与完整性。

https速度会慢

SSL保证网络通信的安全和数据的完整性，采用了两种手段：身份认证（CA）和数据加密（对称和非对称）。

### 一个HTTPS请求实际上包含了两次HTTP传输，可以细分为8步：

1. 客户端向服务器发起HTTPS请求，连接到服务器的443端口

2. 服务器端有一个密钥对，即公钥和私钥，是用来进行非对称加密使用的，服务器端保存着私钥，不能将其泄露，公钥可以发送给任何人。

3. 服务器将自己的公钥发送给客户端。

4. 客户端收到服务器端的证书之后（CA证书和公钥一起发过来），会对证书进行检查，验证其合法性，如果发现发现证书有问题，那么HTTPS传输就无法继续。严格的说，这里应该是验证服务器发送的数字证书的合法性，关于客户端如何验证数字证书的合法性，下文会进行说明。如果公钥合格，那么客户端会生成一个随机值，这个随机值就是用于进行对称加密的密钥，我们将该密钥称之为client key，即客户端密钥，这样在概念上和服务器端的密钥容易进行区分。然后用服务器的公钥对客户端密钥进行非对称加密，这样客户端密钥就变成密文了，至此，HTTPS中的第一次HTTP请求结束。

5. 客户端会发起HTTPS中的第二个HTTP请求，将加密之后的客户端密钥发送给服务器。

6. 服务器接收到客户端发来的密文之后，会用自己的私钥对其进行非对称解密，解密之后的明文就是客户端密钥，然后用客户端密钥对数据进行对称加密，这样数据就变成了密文。

7. 然后服务器将加密后的密文发送给客户端。

8. 客户端收到服务器发送来的密文，用客户端密钥对其进行对称解密，得到服务器发送的数据。这样HTTPS中的第二个HTTP请求结束，整个HTTPS传输完成。

### 对称加密和非对称加密

对称加密是指发送和接受双方使用相同的秘钥对消息进行加密和解密。

非对称加密是指发送方使用接收方公布的公钥进行加密消息，接收方使用自己的私钥进行解密。

https在加密过程中，使用非对称加密传输对称加密秘钥，再通过对称加密技术对数据进行加密。

### CA证书



### 状态码

| 分类 | 分类描述                                           |
| :--- | :------------------------------------------------- |
| 1**  | 信息，**服务器收到请求**，需要请求者继续执行操作   |
| 2**  | **成功，操作被成功接收并处理**                     |
| 3**  | 重定向，需要进一步的操作以完成请求                 |
| 4**  | **客户端错误**，请求包含语法错误或无法完成请求     |
| 5**  | **服务器错误**，服务器在处理请求的过程中发生了错误 |

常用

- 200 - 请求成功
- 301 - 资源（网页等）被永久转移到其它URL
- 404 - 请求的资源（网页等）不存在
- 500 - 内部服务器错误（可能是服务器重启或者忙碌）

其他

- 300 - 提供多个资源地址功浏览器选择
- 302 - 资源（网页等）临时转移到其它URL（301是指旧地址已经不存在数据了，302是同时存在，一般搜索引擎抓取的时候会定向到新url但是保留旧地址）
- 400 - 客户端语法错误

- 403 - 拒绝访问（客户端证书失效、或者）
- 502 - 网关或代理服务器从服务器得到一个无效的响应
- 504 - 网关超时

