# 树
***
主要从基础数说起，重点是 ***红黑树***
## 各种树
首先要明确几个树的概念，重点是 ***B树和B+树***
1. 二叉树
   二叉树就不用说了
   * 完全二叉树：k-1层以上满，k层左对齐
   * 完美二叉树：满二叉树
   * 完满二叉树：非叶子节点都有2个子节点
  
2. 二叉搜索树
   又称二叉查找树，简单来说就是左子树小于根节点，右子树大于根节点
3. 平衡二叉树
   **平衡二叉树也属于二叉搜索树的一种**，左右子树高度差不超过1，这里涉及到平衡二叉树插入中的几个基本操作
4. B树（B-tree）
   B树又称多路平衡查找树，也就是节点不一定只有一个值。B树的插入：因为B树的阶数是固定的，如果插入了一个值导致点的分路大于阶数，要进行调整。
   **B树的好处是，单个节点的信息多了，应用到数据库中时，可以根据数据块的大小调整阶数，从而实现单次读取多信息的目的。**
5. B+树
   B+树是B树的一个升级版，相对于B树来说B+树更充分的利用了节点的空间，让查询速度更加稳定，**其速度完全接近于二分法查找**。
   B+树非叶子节点不存放数据，只存放keys。
   B+树的叶子节点之间存在指针相连，而且是单链表
   特点是：
   1. B+树的层级更少：B+树每个**非叶子节点**存储的关键字数更多（**因为不用保存数据只保存指针**），树的层级更少所以查询数据更快；
   2. B+树查询速度更稳定：B+所有关键字数据地址都存在叶子节点上，所以每次查找的次数都相同所以查询速度要比B树更稳定;
   3. B+树天然具备排序功能：B+树所有的叶子节点数据构成了一个有序链表，在查询大小区间的数据时候更方便，数据紧密性很高，缓存的命中率也会比B树高。
   4. B+树全节点遍历更快：B+树遍历整棵树只需要遍历所有的叶子节点即可，，而不需要像B树一样需要对每一层进行遍历，这**有利于数据库做全表扫描**。
   5. 非叶子结点的关键字数等于子树数（或子树数-1，一般相等）
   反过来说，**B树相对于B+树的优点是**，如果经常访问的数据离根节点很近，而B树的非叶子节点本身存有关键字其数据的地址，所以这种数据检索的时候会要比B+树快。现代操作系统中，磁盘的存储结构使用的是B+树机制，mysql的innodb引擎的存储方式也是B+树机制。
   
## 红黑树

### 红黑树定义
红黑树是一种含有红黑结点并能**自平衡的二叉查找树**，确定他是二叉查找树很重要。它必须满足下面性质：

* 性质1：每个节点要么是黑色，要么是红色。
* 性质2：**根节点是黑色**。
* 性质3：每个叶子节点（NIL）是黑色。
* 性质4：每个**红色结点的两个子结点一定都是黑色**。
* 性质5：任意一结点到每个叶子结点的路径都包含数量相同的黑结点。（**黑色完美平衡**）

从性质5又可以推出：
* 性质5.1：如果一个结点存在黑子结点，那么该结点肯定有两个子结点

总结一点，就是根节点和叶子节点是黑色的，红节点的子节点都是黑的，特性是每一个节点到每个叶子节点的黑节点的数目相同

红黑树的基本操作：
左旋，右旋，变色

红黑树的查找：
和二叉查找树查找没有什么不同，最坏时间复杂度O(lgn)，后边证明一下，这得益于红黑树的插入。
完全不平衡二叉查找树的复杂度是O(n)，平衡二叉树深度lgn，复杂度O(lgn)。 ***(存疑)***


### 红黑树的详细操作

#### 红黑树的插入：
插入也是二叉查找树的插入方法，重点在于颜色部分，黑色父节点要求没有被破坏的情况下，颜色设为红色，红色父节点在下面讨论。
（自平衡就是自底向上平衡，记住8种情景之后递归操作即可操作）记住一个原理，就是**黑色节点数的平衡**
红黑树的插入有8种情景：
1. 



#### 红黑树的删除
红黑树的删除有9种情景：
1. 
以上两部分内容详见参考3。

### 参考
1. [二叉树、二叉搜索树、平衡二叉树、B树、B+树的精确定义和区别探究 - 割肉机 - 博客园](https://www.cnblogs.com/williamjie/p/11081096.html)
2. [平衡二叉树、B树、B+树、B*树 理解其中一种你就都明白了 - 知乎](https://zhuanlan.zhihu.com/p/27700617)
3. [30张图带你彻底理解红黑树 - 简书](https://www.jianshu.com/p/e136ec79235c)
4. [B树和B+树的插入、删除图文详解 - nullzx - 博客园](https://www.cnblogs.com/nullzx/p/8729425.html)
5. 