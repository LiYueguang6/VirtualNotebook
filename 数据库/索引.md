# 索引

## 索引定义

数据结构+算法
索引以文件形式存储在磁盘上

磁盘io流程：
程序调用内核，内核驱动磁柱磁头读取盘片数据，存到内存内核专用区域，再转化到mysql的专用内存区域
* 寻道：磁头前后移动；
* 旋转：盘片逆时针运动；**前两个步骤是主要耗时阶段**。
* 预读：按照文件块读取，4K*N，4K是最小单位，N可以指定，为了提高下次读取的速度，默认16K（MySQL一页）

## innodb存储引擎

frm文件--表结构
idb文件--数据

## 各种索引
### hash索引
* 键值唯一，哈希索引优势明显
* 无法完成范围查询
* 无法模糊查询
* 不支持联合索引
* 因为哈希碰撞效率低

## B+树


## innodb索引
主键索引
数据存储在叶子节点上

非主键索引
非主键索引中叶子节点存储的是**主键索引的id**


## 面试
### Innodb怎么保证必有主键

### 