# 操作系统

## 进程

### 进程与线程

1. 进程是操作系统资源分配的基本单位，而线程是任务调度和执行的基本单位

2. 一个进程可以包含多个线程

3. 每个进程都有独立的代码和程序上下文，进程间的切换开销大；线程则只有独立的计数器和运行栈，线程切换更轻量

4. 进程有独立的内存，线程是共享的，线程只有自己的运行栈和计数器

5. 操作系统同时运行多个进程，一个进程为多个线程提供CPU分时运行（多线程一个时间点仍然只有一个线程在运行）。
6. 多进程之间不会互相影响，更具稳定性健壮性；多线程中一个线程崩溃，所有线程都会停止
7. 进程有独立的程序入口和出口。线程只能依赖于应用程序，由应用程序提供多线程执行控制



进程状态：就绪（分配到其他资源，等cpu）、运行（分配到cpu）、等待（等某个事件）。新建和终止

### 进程通讯

管道：匿名命名

信号量：PV生产者和消费者，信号量作为临界资源实现了进程间的状态通讯，但是没办法获得消息内容。

共享内存：映射同一块内存区域

套接字：

消息队列：



## 死锁

## 内存管理

### 页面置换

FIFO先进先出
LRU最久未使用
LFU最少使用

### 页面管理

分段：段是根据逻辑进行拆分，例如主程序、子程序、数据等。段长不固定，且长段难以分配连续内存，容易出现难以利用的碎片。

分页：分页管理提高内存利用率，减少外部碎片，但是页长固定，内部会出现轻微浪费。主要的缺点是不方便按照逻辑组织信息。

段页式：先进行逻辑分段，再进行固定长度分页。段表——>页数、（块号）页表存储位置；页表——>页面的存储位置

## CPU调度算法

先来先服务

短进程优先

相同的时间片轮询

随机

## Linux